{
  "2018-06-30-solarmaps": {
    "layout": "project",
    "title": "Solarmaps para Greenpeace España",
    "date": "2018-06-01T00:00:00.000Z",
    "tags": "vuejs, nuxtjs, frontend, backend, pybossa",
    "type": "frontend, backend, analista de datos",
    "home": "https://solarmaps.greenpeace.es/",
    "state": "producción",
    "permalink": "/projects/solarmaps",
    "featured": "yes",
    "meta_description": "Analizando el potencial solar de España",
    "partners": [
      "Greenpeace España",
      "Factoría Cultural Madrid"
    ],
    "icon": "sky",
    "iconauthor": null,
    "lang": "es",
    "role": "CTO, desarrollador frontend , desarrollador backend, analista de datos",
    "preview": "Greenpeace España nos contrató a través de mi compañía Scifabric …",
    "content": "\n\nGreenpeace España nos contrató a través de mi compañía Scifabric para\ndesarrollar una plataforma sobre la energía solar. En concreto querían pedir al\ngobierno Español que promueva y utilice energías renovables.\n\nPara alcanzar este objetivo, diseñe un proyecto de crowdsourcing. Los\nvoluntarios tenían que medir el área del tejado de los edificios públicos. Para\nconseguirlo, mapeamos todos los edificios del gobierno de España (a través del portal de\ndatos abierto), y preguntamos a voluntarios de todo el mundo que confirmasen la\nlocalización de los edificios. Luego, tan solo tenían que dibujar un polígono\nencima del tejado del edificio en cuestión.\n\nPara construir la plataforma utilizamos PYBOSSA y NuxtJS. Construí una Progressive Web\nApplication que puede utilizarse en móviles, tabletas y ordenadores de\nescritorio.\n\nEl proyecto utiliza además el análisis en tiempo real de PYBOSSA. La siguiente\nparte explica la metodología que utilicé para el cliente.\n\n## Capturando datos: Los edificios públicos de la administración Española\n\nPara crear este proyecto necesitábamos la base de datos de todos los edificios\npúblicos pertenencientes a la administración central.\n\nEl ministerio de Política territorial y Función pública tiene un [portal web](http://transparencia.gob.es/servicios-buscador/buscar.htm?categoria=bienesinmuebles_ind&categoriasPadre=conconvsub&ente=I00000179,EA0008567,E04585801,E00003901,E00003301,E04921301,E04990101,E00003801,E00003601,E04921401,E04921501,E04921601,E04990201,E04921701,E04990301,E00004101,E04990401,E04921801,E04990501,E04921901&lang=es&tipocibi=edificio)\nen el que se puede obtener un listado de todos esos edificios.\n\nLos datos que proporciona dicha web son los siguientes:\n\n* Tipo\n* Lugar: su dirección postal\n* Uso: a qué ministerio pertenece dicho edificio\n* Superficie: los metros cuadrados de la superficie\n\nPara nosotros, los datos relevantes era el lugar o dirección, dado que lo que\nqueremos medir es el área del tejado.\n\n### Mapeando los edificios\n\nCon la dirección postal de los edificios, nos fuimos a Google Maps y buscamos\nsus coordinadas (latitud y longitud) para geolocalizarlos en un mapa.\n\nDe los 9959 edificios que se muestran en el portal de transparencia, Google solo\ndevolvió resultados para 5253. Esto se debe en parte a que los edificios no\nencontrados tienen la dirección mal escrita, con caracteres que no existen, etc.\nPor este motivo, tan solo pudimos trabajar con 5253 edificios.\n\n### Midiendo el área del tejado en metros cuadrados\n\nCon los edificios ya geolocalizados, nos pusimos manos a la obra con el\nfrontend. Para este proyecto utilizamos [PYBOSSA](https://scifabric.com/howitworks/), una tecnología\nque nos permite que cada edificio se compruebe por varias personas a la vez, para\nposteriormente analizar estadísticamente cada una de las contribuciones de los\nparticipantes. De esta forma podremos generar resultados válidos para el\ncliente.\n\nEl frontend por lo tanto se compone de los siguientes pasos:\n\n* Se solicita a un voluntario que encuentre un edificio, dada su dirección\n  postal.\n* Una vez confirmada su posición, se le solicita que dibuje el área del tejado.\n* Finalmente, se le pregunta si ve paneles solares y en caso afirmativo se\n  solicita que los dibuje todos (queremos saber cuantos metros cuadrados hay de\n  paneles solares). Si no hay paneles solares, el análisis está completo.\n\nPor defecto cada edificio es analizado por 3 personas diferentes. Un mismo\nusuario no puede participar dos o más veces en un edificio que ya ha analizado.\nAsí evitamos problemas con los datos. Cuando un edificio ha sido analizado por 3\npersonas, PYBOSSA analiza las contribuciones y proporciona un resultado.\n\n\n# Análisis estadístico\n\nDado que puede participar cualquier persona en el proyecto, el sistema valida\nlas contribuciones de la siguiente forma:\n\n* Para cada polígono, ya sea tejado o paneles solares, se calcula el centro geométrico (centroide).\n* Agrupamos los centroides que estén en un radio de menos de 2 metros.\n* Si los participantes han dibujado correctamente el tejado y/o los paneles\n  solares, los centroides estarán muy juntos.\n* Calculamos el área de aquellos polígonos cuyos centroides estén juntos. El\n  resto los eliminamos.\n* Para cada área se caclula tanto la desviación típica, así como los diferentes cuartiles (25%,\n  50%, 75% y 100%), el máximo y el mínimo valor enviado por los participantes.\n* Si los usuarios respondieron que hay paneles solares, se repiten los pasos\n  anteriores, pero solo para los paneles solares.\n\nDe esta manera solo consideramos aquellos polígonos que realmente sean los\ncorrectos.\n\n## Cálculo de energía, inversión, CO2, etc.\n\nCon los datos del área de los tejados, podemos medir el potencial fotovoltáico\nque podrían tener los edificios analizados. También, gracias a este cálculo\npodemos saber cuanto CO2 se podría evitar, así como cuanto dinero se podría\nahorrar el estado Español al auto-producir su propia energía.\n\n### Potencial fotovoltáico\n\n* El área del tejado se divide a la mitad, siempre, para tener en cuenta\n  sombras, u otros elemenos que pudieran afectar a la instalación de los paneles\n  (patios interiores).\n* Se considera que la otra mitad del tejado se cubra con paneles fotovoltaicos y que \n  cada metro cuadrado de 167 watios de potencia. Se multiplica la potencia que se podría \n  instalar en el tejado por la producción anual media real fotovoltaica de la provincia \n  en la que está ubicado el edificio según los datos que proporciona [Red Eléctrica de\n  España](https://www.esios.ree.is/is/maps-of-interest/map-of-production-annual-media-photovoltaic). \n  Con esto obtenemos la producción anual de electricidad que se podría generar si se cubriera \n  de paneles solares la mitad del tejado medido.\n\n### Ahorro para las arcas públicas\n\nConsideramos que la electricidad que podría producirse en el tejado medido sea consumida de forma instantanea en el mismo edificio y que por lo tanto el ahorro de dinero que genere la instalación será la diferencia entre la electricidad que la Administración central ya no tiene que comprar a las eléctricas (0,139€ + IVA 21% e impuesto sobre la electricidad 5,11269%) y la inversión necesaria para realizar la instalación fotovoltaica (1,45€/W). Se considera una vida útil de la instalación de 25 años.\n\nSi la superficie disponible en el tejado es inferior a 60m2 (< 10kW) consideramos que no se aplica el Impuesto al Sol (para un punto de conexión 3.0 A) así como en el caso del archipiélago Canario, Melilla, Ceuta, Ibiza y Formentera.\n\nEn los demás casos sí se introduce el Impuesto al Sol que debería pagar la Administración sobre la electricidad autoconsumida de forma instantánea (cargo transitorio por energía autoconsumida para un punto de conexión 3.0 A según lo establecido por el [Gobierno](https://www.boe.es/diario_boe/txt.php?id=BOE-A-2016-12464))\n\n### Ahorro de emisiones de gases de efecto invernadero\n\nPara calcular cuántas emisiones de gases de efecto invernaderos evitaría cada instalación se multiplica la producción de electricidad renovable por el factor de emisión del sistema eléctrico del estado español en el que esté ubicado el edificio según los datos aportados por Red Eléctrica Española para el año [2017](http://www.ree.es/es/estadisticas-del-sistema-electrico-espanol/series-estadisticas/series-estadisticas-nacionales)\n\nSistema peninsular: 0,269 kg CO2/kWh  \nSistema balear: 0,714 kg CO2/kWh  \nCeuta y Melilla: 0,745 kg CO2/kWh  \nSistema canario: 0,775 kg CO2/kWh\n\n### Equivalencias\n\nPara calcular las equivalencias necesarias a hacer más entendibles los datos aportados se ha considerado los siguientes datos:\n\n1.  Consumo de electricidad anual de un hogar medio español: 3.500 kWh/año\n2.  Emisiones de un coche medio de gasolina del parque actual de vehículos 160 gCO2/km\n3.  Superficie del césped del campo de fútbol Santiago Bernabéu: 105m * 68m\n\n## Software utilizado\n\nPara el análisis se está utilizando el paquete estadístico [Pandas](https://pandas.pydata.org/) y el algoritmo [DBSCAN](https://en.wikipedia.org/wiki/DBSCAN) para generar los clusters.  \nEl resto es [PYBOSSA](https://scifabric.com).\n",
    "iso8601Date": "2018-06-01T02:00:00+02:00",
    "basename": "2018-06-30-solarmaps"
  }
}
